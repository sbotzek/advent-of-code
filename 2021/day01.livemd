<!-- vim: syntax=markdown -->
<!-- livebook:{"persist_outputs":true} -->

# Advent of Code 2021 - Day 1

## Utils

```elixir
defmodule Utils do
  def read_textarea(name) do
    Stream.iterate("", fn _ -> IO.gets(name) end)
    |> Stream.take_while(&(&1 != :eof))
    |> Enum.join("\r\n")
  end
end
```

```output
{:module, Utils, <<70, 79, 82, 49, 0, 0, 7, ...>>, {:read_textarea, 1}}
```

<!-- livebook:{"livebook_object":"cell_input","name":"example_input","type":"textarea","value":"199\n200\n208\n210\n200\n207\n240\n269\n260\n263"} -->

<!-- livebook:{"livebook_object":"cell_input","name":"my_input","type":"textarea","value":"190\n168\n166\n163\n170\n160\n171\n166\n161\n167\n175\n178\n193\n189\n188\n191\n193\n192\n193\n180\n177\n178\n176\n177\n196\n203\n211\n209\n210\n209\n225\n219\n229\n214\n202\n205\n208\n207\n208\n204\n208\n206\n205\n208\n209\n219\n236\n241\n243\n239\n251\n278\n279\n284\n283\n287\n244\n245\n257\n253\n272\n276\n287\n288\n304\n306\n313\n312\n284\n293\n288\n289\n290\n283\n298\n309\n300\n298\n297\n291\n292\n304\n301\n303\n306\n280\n286\n266\n270\n272\n274\n269\n270\n271\n270\n266\n274\n275\n278\n280\n283\n284\n283\n267\n282\n283\n285\n286\n302\n307\n309\n311\n309\n315\n314\n317\n319\n318\n314\n313\n330\n333\n335\n365\n370\n361\n362\n367\n358\n361\n359\n358\n349\n352\n367\n355\n359\n360\n355\n357\n359\n368\n375\n383\n385\n399\n410\n413\n414\n418\n417\n418\n419\n420\n421\n422\n434\n439\n438\n440\n441\n443\n445\n444\n446\n450\n452\n463\n466\n476\n464\n467\n470\n474\n460\n473\n475\n476\n482\n481\n489\n495\n505\n503\n508\n493\n508\n509\n508\n513\n538\n536\n521\n526\n523\n536\n537\n558\n557\n563\n557\n560\n561\n560\n575\n578\n582\n583\n587\n574\n576\n581\n580\n579\n581\n599\n601\n602\n606\n607\n606\n605\n606\n607\n611\n607\n606\n605\n603\n597\n598\n593\n584\n585\n587\n619\n614\n616\n596\n627\n628\n630\n631\n634\n633\n631\n632\n641\n637\n647\n643\n651\n625\n593\n601\n602\n599\n592\n593\n597\n601\n592\n612\n611\n612\n616\n620\n622\n627\n626\n629\n632\n642\n654\n655\n657\n658\n661\n662\n653\n655\n658\n665\n674\n664\n694\n689\n692\n693\n681\n686\n687\n698\n701\n706\n687\n689\n706\n710\n716\n723\n733\n735\n734\n733\n727\n729\n744\n750\n736\n739\n745\n743\n742\n743\n741\n739\n742\n748\n755\n752\n762\n768\n767\n760\n758\n756\n765\n779\n796\n797\n798\n796\n797\n775\n779\n780\n781\n784\n794\n799\n793\n797\n795\n793\n802\n800\n809\n814\n826\n830\n820\n804\n805\n809\n816\n817\n845\n850\n861\n857\n858\n863\n868\n873\n880\n891\n865\n876\n890\n925\n927\n926\n932\n941\n942\n943\n942\n943\n942\n947\n938\n940\n943\n949\n953\n954\n966\n970\n967\n963\n961\n964\n966\n973\n983\n975\n974\n980\n977\n988\n989\n991\n989\n990\n1000\n1001\n1006\n996\n998\n997\n996\n979\n981\n1014\n1018\n1023\n996\n995\n1006\n1000\n994\n996\n999\n1001\n999\n1000\n1002\n1001\n1003\n1005\n1006\n1014\n1037\n1039\n1040\n1066\n1059\n1081\n1085\n1072\n1069\n1070\n1069\n1080\n1079\n1106\n1105\n1118\n1127\n1150\n1151\n1147\n1133\n1134\n1135\n1136\n1137\n1138\n1140\n1138\n1149\n1150\n1149\n1143\n1136\n1137\n1140\n1141\n1140\n1141\n1142\n1155\n1182\n1173\n1167\n1163\n1172\n1186\n1180\n1176\n1179\n1178\n1189\n1201\n1205\n1201\n1200\n1209\n1207\n1218\n1226\n1232\n1234\n1233\n1225\n1228\n1229\n1219\n1221\n1220\n1199\n1201\n1204\n1212\n1224\n1208\n1209\n1210\n1220\n1219\n1215\n1231\n1240\n1246\n1249\n1281\n1247\n1251\n1255\n1263\n1260\n1292\n1293\n1305\n1311\n1316\n1319\n1323\n1307\n1326\n1319\n1316\n1327\n1328\n1333\n1342\n1337\n1338\n1335\n1353\n1368\n1371\n1386\n1382\n1381\n1378\n1374\n1391\n1396\n1397\n1399\n1388\n1380\n1406\n1396\n1398\n1397\n1401\n1402\n1401\n1369\n1372\n1373\n1370\n1371\n1362\n1375\n1378\n1389\n1400\n1402\n1404\n1420\n1425\n1429\n1425\n1406\n1412\n1425\n1421\n1401\n1402\n1399\n1400\n1412\n1387\n1386\n1390\n1392\n1396\n1402\n1404\n1405\n1406\n1379\n1384\n1419\n1420\n1422\n1427\n1423\n1426\n1421\n1420\n1428\n1424\n1428\n1436\n1432\n1439\n1444\n1457\n1458\n1460\n1464\n1459\n1460\n1493\n1489\n1510\n1503\n1505\n1506\n1492\n1515\n1517\n1506\n1488\n1485\n1488\n1471\n1473\n1496\n1499\n1497\n1501\n1475\n1465\n1460\n1458\n1462\n1467\n1466\n1483\n1471\n1476\n1471\n1493\n1492\n1494\n1503\n1504\n1505\n1506\n1507\n1510\n1492\n1493\n1500\n1498\n1528\n1533\n1538\n1539\n1575\n1576\n1557\n1555\n1557\n1579\n1589\n1594\n1599\n1600\n1598\n1609\n1619\n1618\n1617\n1629\n1613\n1619\n1620\n1631\n1627\n1628\n1630\n1631\n1616\n1631\n1651\n1657\n1658\n1637\n1642\n1641\n1651\n1652\n1647\n1649\n1658\n1649\n1629\n1631\n1632\n1619\n1617\n1620\n1634\n1632\n1633\n1636\n1634\n1641\n1639\n1642\n1647\n1640\n1609\n1611\n1607\n1597\n1601\n1606\n1635\n1637\n1647\n1640\n1650\n1654\n1656\n1636\n1626\n1624\n1625\n1615\n1620\n1621\n1618\n1614\n1615\n1616\n1622\n1623\n1625\n1627\n1626\n1627\n1632\n1644\n1659\n1668\n1671\n1672\n1673\n1676\n1684\n1709\n1735\n1734\n1731\n1738\n1740\n1748\n1751\n1741\n1740\n1739\n1741\n1739\n1750\n1762\n1766\n1765\n1764\n1775\n1774\n1775\n1776\n1777\n1778\n1757\n1755\n1756\n1757\n1756\n1776\n1780\n1781\n1790\n1792\n1791\n1803\n1810\n1801\n1800\n1831\n1834\n1818\n1823\n1806\n1801\n1812\n1814\n1837\n1842\n1843\n1842\n1841\n1836\n1828\n1835\n1846\n1845\n1855\n1854\n1858\n1856\n1865\n1866\n1865\n1850\n1859\n1872\n1868\n1866\n1867\n1862\n1869\n1870\n1882\n1896\n1901\n1903\n1917\n1939\n1942\n1945\n1955\n1956\n1954\n1974\n1944\n1943\n1942\n1956\n1961\n1957\n1953\n1954\n1955\n1958\n1961\n1948\n1947\n1959\n1960\n1961\n1969\n1996\n1992\n1993\n1988\n1994\n2021\n2020\n2003\n1999\n1995\n2006\n2002\n1994\n1995\n1998\n1995\n1988\n1992\n1997\n2003\n2006\n2007\n2010\n2006\n2015\n2000\n1998\n1993\n2003\n2004\n2006\n2005\n2008\n2019\n2020\n2030\n2031\n2036\n2037\n2038\n2037\n2036\n2038\n2031\n2043\n2044\n2047\n2050\n2049\n2027\n2053\n2057\n2058\n2034\n2038\n2033\n2034\n2038\n2045\n2031\n2037\n2053\n2061\n2058\n2062\n2063\n2051\n2046\n2045\n2042\n2043\n2042\n2037\n2053\n2047\n2059\n2058\n2057\n2058\n2069\n2070\n2073\n2086\n2098\n2116\n2110\n2108\n2109\n2111\n2112\n2114\n2116\n2102\n2108\n2110\n2111\n2115\n2114\n2123\n2124\n2121\n2144\n2167\n2170\n2167\n2135\n2141\n2145\n2152\n2166\n2159\n2160\n2133\n2132\n2133\n2100\n2104\n2101\n2102\n2109\n2108\n2109\n2112\n2114\n2113\n2114\n2123\n2121\n2122\n2116\n2115\n2126\n2133\n2135\n2136\n2137\n2138\n2137\n2140\n2156\n2148\n2144\n2143\n2142\n2145\n2161\n2160\n2162\n2154\n2155\n2136\n2134\n2132\n2138\n2140\n2143\n2135\n2136\n2143\n2130\n2127\n2158\n2161\n2167\n2169\n2186\n2191\n2185\n2193\n2192\n2205\n2199\n2198\n2199\n2201\n2200\n2201\n2225\n2234\n2232\n2241\n2230\n2227\n2218\n2228\n2241\n2242\n2243\n2258\n2251\n2242\n2226\n2218\n2223\n2222\n2225\n2247\n2246\n2243\n2245\n2238\n2239\n2237\n2255\n2257\n2258\n2251\n2267\n2268\n2269\n2283\n2264\n2266\n2264\n2265\n2293\n2310\n2327\n2334\n2354\n2353\n2358\n2354\n2359\n2353\n2362\n2363\n2364\n2362\n2366\n2362\n2356\n2355\n2351\n2385\n2386\n2387\n2389\n2391\n2400\n2411\n2373\n2343\n2332\n2331\n2335\n2346\n2343\n2357\n2365\n2366\n2373\n2374\n2368\n2363\n2362\n2366\n2365\n2369\n2340\n2341\n2337\n2357\n2358\n2353\n2355\n2374\n2373\n2379\n2382\n2390\n2388\n2387\n2388\n2387\n2388\n2389\n2399\n2400\n2398\n2406\n2409\n2414\n2416\n2425\n2434\n2424\n2418\n2420\n2413\n2418\n2419\n2427\n2428\n2429\n2428\n2431\n2430\n2418\n2430\n2434\n2442\n2443\n2410\n2409\n2416\n2400\n2398\n2402\n2403\n2405\n2440\n2433\n2439\n2435\n2414\n2431\n2440\n2443\n2442\n2445\n2449\n2448\n2444\n2443\n2450\n2432\n2431\n2436\n2460\n2467\n2471\n2470\n2473\n2477\n2486\n2487\n2482\n2487\n2488\n2490\n2493\n2465\n2463\n2471\n2467\n2466\n2473\n2469\n2471\n2483\n2484\n2496\n2494\n2497\n2493\n2521\n2522\n2500\n2504\n2512\n2521\n2522\n2529\n2524\n2521\n2528\n2529\n2544\n2521\n2532\n2525\n2530\n2524\n2523\n2505\n2498\n2499\n2494\n2487\n2484\n2487\n2488\n2491\n2498\n2497\n2486\n2478\n2484\n2488\n2489\n2491\n2489\n2493\n2496\n2499\n2496\n2495\n2498\n2499\n2498\n2497\n2503\n2500\n2534\n2535\n2546\n2588\n2616\n2642\n2641\n2640\n2654\n2663\n2659\n2663\n2664\n2674\n2678\n2680\n2683\n2692\n2698\n2703\n2704\n2707\n2704\n2735\n2710\n2728\n2730\n2739\n2734\n2741\n2738\n2760\n2744\n2745\n2746\n2747\n2750\n2744\n2746\n2759\n2761\n2762\n2763\n2764\n2785\n2795\n2818\n2820\n2824\n2828\n2831\n2833\n2837\n2838\n2840\n2839\n2847\n2844\n2835\n2834\n2829\n2835\n2837\n2805\n2832\n2833\n2832\n2833\n2822\n2823\n2826\n2835\n2823\n2825\n2828\n2829\n2828\n2850\n2851\n2853\n2862\n2864\n2877\n2871\n2874\n2886\n2921\n2895\n2899\n2887\n2898\n2897\n2899\n2922\n2929\n2935\n2937\n2938\n2935\n2939\n2944\n2945\n2981\n2982\n2986\n3002\n3003\n3010\n3009\n3020\n3021\n3029\n3028\n3019\n3020\n3021\n2996\n2993\n2999\n3009\n3013\n2996\n2988\n2990\n3032\n3031\n3023\n3037\n3027\n2994\n2988\n2991\n3023\n3025\n3029\n3033\n3043\n3052\n3053\n3052\n3054\n3055\n3045\n3044\n3053\n3056\n3077\n3078\n3079\n3073\n3099\n3093\n3097\n3100\n3064\n3076\n3082\n3095\n3091\n3095\n3101\n3102\n3099\n3100\n3095\n3097\n3093\n3102\n3105\n3143\n3160\n3157\n3156\n3158\n3150\n3151\n3150\n3157\n3184\n3179\n3181\n3173\n3179\n3184\n3187\n3197\n3198\n3199\n3208\n3214\n3221\n3205\n3209\n3210\n3214\n3215\n3214\n3216\n3234\n3237\n3246\n3254\n3255\n3278\n3277\n3278\n3281\n3299\n3298\n3306\n3305\n3304\n3315\n3323\n3330\n3331\n3323\n3326\n3329\n3330\n3336\n3326\n3324\n3320\n3318\n3317\n3319\n3318\n3320\n3321\n3322\n3331\n3322\n3315\n3326\n3325\n3317\n3316\n3312\n3323\n3322\n3329\n3328\n3323\n3324\n3332\n3331\n3329\n3294\n3293\n3290\n3283\n3278\n3281\n3290\n3291\n3265\n3268\n3271\n3255\n3248\n3249\n3250\n3253\n3254\n3276\n3277\n3274\n3279\n3281\n3295\n3290\n3306\n3309\n3300\n3306\n3317\n3316\n3325\n3322\n3343\n3346\n3355\n3356\n3370\n3371\n3372\n3373\n3377\n3378\n3390\n3397\n3399\n3433\n3454\n3468\n3474\n3472\n3475\n3473\n3471\n3489\n3490\n3495\n3510\n3505\n3514\n3516\n3528\n3529\n3545\n3544\n3549\n3547\n3555\n3556\n3555\n3546\n3555\n3556\n3566\n3553\n3552\n3578\n3565\n3566\n3558\n3544\n3540\n3539\n3534\n3535\n3522\n3523\n3512\n3508\n3548\n3559\n3566\n3561\n3581\n3584\n3616\n3624\n3623\n3626\n3625\n3624\n3630\n3627\n3631\n3618\n3632\n3631\n3641\n3648\n3645\n3649\n3653\n3663\n3672\n3677\n3678\n3686\n3688\n3687\n3694\n3684\n3688\n3690\n3699\n3703\n3706\n3707\n3711\n3718\n3715\n3716\n3717\n3718\n3724\n3723\n3733\n3737\n3738\n3739\n3738\n3741\n3769\n3770\n3767\n3770\n3769\n3768\n3771\n3743\n3744\n3749\n3752\n3755\n3756\n3755\n3750\n3751\n3750\n3745\n3755\n3757\n3756\n3758\n3759\n3769\n3768\n3776\n3766\n3774\n3776\n3775\n3780\n3801\n3776\n3775\n3776\n3789\n3794\n3793\n3790\n3773\n3769\n3770\n3781\n3782\n3781\n3782\n3755\n3762\n3763\n3768\n3765\n3780\n3789\n3790\n3792\n3795\n3796\n3797\n3796\n3789\n3788\n3791\n3786\n3785\n3784\n3764\n3767\n3771\n3774\n3782\n3794\n3811\n3802\n3808\n3819\n3806\n3826\n3818\n3808\n3809\n3824\n3844\n3833\n3834\n3825\n3830\n3835\n3839\n3841\n3828\n3826\n3835\n3841\n3849\n3858\n3851\n3846\n3850\n3853\n3863\n3862\n3866\n3867\n3873\n3871\n3859\n3892\n3887\n3905\n3914\n3915\n3909\n3910\n3926\n3925\n3933\n3930\n3933\n3930\n3920\n3919\n3923\n3924\n3920\n3922\n3935\n3938\n3940\n3935\n3947\n3948\n3952\n3953\n3962\n3985\n3984\n3987\n4005\n4006\n4007\n4027\n4031\n4043\n4042\n4037\n4038\n4034\n4037\n4044\n4054\n4063\n4081\n4078\n4090\n4114\n4125\n4122\n4130\n4137\n4142\n4140\n4139\n4140\n4139\n4143\n4158\n4155\n4151\n4154\n4153\n4152\n4148\n4144\n4145\n4157\n4145\n4143\n4144\n4142\n4143\n4144\n4150\n4152\n4153\n4176\n4165\n4168\n4175\n4178\n4184\n4183\n4182\n4164\n4163\n4164\n4177\n4192\n4190\n4197\n4216\n4217\n4214\n4192\n4193\n4189\n4191\n4171\n4172\n4177\n4194\n4189\n4187\n4192\n4198\n4200\n4210\n4222\n4243\n4252\n4253\n4258\n4264\n4260\n4261\n4259\n4272\n4290\n4318\n4320\n4334\n4335\n4336\n4352\n4356\n4380\n4400\n4396\n4389\n4390\n4393\n4392\n4397\n4399\n4397\n4395\n4400\n4394\n4403\n4400\n4416\n4417\n4424\n4431\n4437\n4424\n4422\n4421\n4422\n4410\n4417\n4420\n4421\n4428\n4439\n4449\n4448\n4437\n4414\n4429\n4440\n4417\n4418\n4422\n4401\n4393\n4402\n4400\n4414\n4419\n4392\n4395\n4406\n4428\n4429\n4442\n4413\n4437\n4447\n4444\n4430\n4429\n4438\n4434\n4433\n4436\n4422\n4423\n4422\n4413\n4415\n4403\n4416\n4420\n4386\n4379\n4371\n4378\n4381\n4404\n4417\n4416\n4418\n4412\n4416\n4407\n4400\n4408\n4412\n4423\n4421\n4412\n4409\n4426\n4424\n4429\n4420\n4398\n4404\n4403\n4409\n4410\n4418\n4417\n4426\n4428\n4447\n4459\n4461\n4465\n4478\n4479\n4450\n4452\n4454\n4445\n4447\n4459\n4482"} -->

## Part 1

```elixir
defmodule Day1 do
  def solve(input) do
    input
    # to list of strings
    |> String.split(~r{\s}, trim: true)
    # to list of ints
    |> Enum.map(&String.to_integer/1)
    # [1, 2, 3] => [[1, 2], [2, 3]]
    |> Enum.chunk_every(2, 1, :discard)
    |> Enum.filter(fn [first, second] -> second > first end)
    |> Enum.count()
  end
end

IO.inspect(Day1.solve(Utils.read_textarea("example_input")))
IO.inspect(Day1.solve(Utils.read_textarea("my_input")))
```

```output
7
1301
```

```output
1301
```

## Part 2

```elixir
defmodule Day1.Part2 do
  def solve(input) do
    input
    # to list of strings
    |> String.split(~r{\s}, trim: true)
    # to list of ints
    |> Enum.map(&String.to_integer/1)
    #  [1, 2, 3, 4, 5] => [[1, 2, 3], [2, 3, 4], [3, 4, 5]]
    |> Enum.chunk_every(3, 1, :discard)
    # [[1, 2, 3], [2, 3, 4], [3, 4, 5]] => [6, 9, 12]
    |> Enum.map(&Enum.sum/1)
    # [1, 2, 3] => [[1, 2], [2, 3]]
    |> Enum.chunk_every(2, 1, :discard)
    |> Enum.filter(fn [first, second] -> second > first end)
    |> Enum.count()
  end
end

IO.inspect(Day1.Part2.solve(Utils.read_textarea("example_input")))
IO.inspect(Day1.Part2.solve(Utils.read_textarea("my_input")))
```

```output
5
1346
```

```output
1346
```
